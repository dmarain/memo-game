
:root{
--bg:#0e1116;
--card:#151a22;
--ink:#e7ecf5;
--muted:#a7b1c2;
--accent:#66d9ef;
--accent2:#ffd166;
--good:#35d07f;
--warn:#ff6b6b;
--badge:#9b6cff;
--shadow:0 8px 24px rgba(0,0,0,.35);
--radius:14px;
--tight:10px;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:linear-gradient(180deg,#f7faff 0%,#eef5ff 45%,#e9fff3 100%);color:#0e1826;font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}


img{display:block;max-width:100%}

.app{min-height:100dvh;display:flex;flex-direction:column}

/* Topbar */
.topbar{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;gap:12px;background:linear-gradient(180deg,#121722, #10151d)}
.title{margin:0;font-size:clamp(18px,2.6vw,26px);letter-spacing:.5px}
.brand{display:flex;align-items:center;gap:10px}
.memo-img{width:52px;height:52px;object-fit:contain;border-radius:12px;box-shadow:var(--shadow)}
.top-actions{display:flex;gap:8px}

/* Screens */
.screen-wrap{flex:1;display:grid;place-items:center;padding:10px}
.screen{display:none;width:min(980px,100%);transition:opacity .2s ease}
.screen.active{display:block;opacity:1}
.card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px}
.card.tight{padding:16px}
.h2{margin:0 0 8px 0;font-size:clamp(18px,2.2vw,24px)}
.muted{color:var(--muted)}
.small{font-size:.9rem}
.center{text-align:center}
.flow-row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.row{display:flex;gap:8px;align-items:center;margin:6px 0}
.grid2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:18px}
@media (max-width:720px){.grid2{grid-template-columns:1fr}}
.label{display:block;margin-bottom:6px;color:var(--muted)}
.input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #2b3240;background:#0d1219;color:var(--ink);outline:none}
.input.wide{flex:1}
.input.short{width:90px}
.level-list{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0}

/* Buttons */
.btn{--bg:#223047;--fg:var(--ink);appearance:none;border:0;padding:10px 14px;border-radius:12px;background:var(--bg);color:var(--fg);cursor:pointer;box-shadow:var(--shadow)}
.btn:hover{filter:brightness(1.06)}
.btn:disabled{opacity:.6;cursor:not-allowed}
.btn.primary{background:linear-gradient(180deg,#3364ff,#2749cc)}
.btn.ghost{background:#1a2230}
.btn.danger{background:linear-gradient(180deg,#ff5e7a,#bd2d56)}

.tag{display:inline-block;padding:6px 10px;border-radius:999px;background:#1b2432;color:#d9e2f3;margin-right:6px;font-size:.9rem}

/* HUD & Game Area */
.hud{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.game-area{display:grid;gap:12px}
.instructions{font-size:1.05rem}
.numbers-row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.numbox{width:56px;height:56px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(180deg,#182131,#0e1420);border:1px solid #2b3950;font-weight:700;font-size:1.25rem;box-shadow:var(--shadow)}
.numbox.missing{background:linear-gradient(180deg,#2a2338,#171424);color:#9aa6bf;border-style:dashed}
.numbox.hiddenVal{color:#142033}

/* Timer */
.timer{display:flex;gap:8px;align-items:center;justify-content:center}
.hourglass{width:18px;height:18px;border:2px solid var(--accent2);border-radius:6px;position:relative}
.hourglass::before,.hourglass::after{content:"";position:absolute;left:3px;right:3px;height:6px;background:var(--accent2)}
.hourglass::before{top:3px;border-radius:0 0 6px 6px}
.hourglass::after{bottom:3px;border-radius:6px 6px 0 0}
.timer-text{font-weight:700}

/* Feedback */
.feedback{min-height:24px;text-align:center}
.feedback.good{color:var(--good)}
.feedback.bad{color:var(--warn)}

/* Modals */
.modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.55);backdrop-filter:blur(3px);padding:12px}
.modal[aria-hidden="false"]{display:grid}
.modal-card{width:min(700px,100%);background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}
.badge{margin:6px auto 12px auto; width:120px;height:120px;border-radius:50%;background:radial-gradient(circle at 35% 35%, var(--badge), #4b2bb7 55%, #22155a);box-shadow:0 0 30px rgba(155,108,255,.5)}

/* Celebration FX (CSS confetti baseline; escalates by JS adding more dots) */
.celebrate-fx{position:relative;height:140px;margin:10px 0;overflow:hidden}
.confetti{position:absolute;width:8px;height:12px;background:var(--accent2);top:-16px;left:50%;transform:translateX(-50%);animation:fall 1.6s linear forwards}
@keyframes fall{
to{transform:translateX(calc(-50% + (var(--dx, 0px)))) translateY(160px) rotate(300deg)}
}

/* Summary */
.summary-wrap{overflow:auto;border:1px solid #2b3240;border-radius:10px;background:#0e141d}
.summary-table{width:100%;border-collapse:collapse}
.summary-table th,.summary-table td{padding:10px;border-bottom:1px solid #222c3a;text-align:center}
.summary-table thead th{background:#152033}
.summary-table tfoot td{font-weight:700;background:#101827}

/* Tighten whitespace globally */
.topbar, .card, .hud, .game-area, .numbers-row { margin: 0 auto; }
.card p, .instructions { margin: 6px 0; }
.flow-row.center { justify-content: center; }

/* Reduced Motion */
.reduced-motion *{animation:none!important;transition:none!important}

/* Utility */
.hidden{display:none!important}
.bigpraise{font-size:1.2rem}
.tips{margin-top:8px}
/* Memo image override */
/* Add/replace in style.css */
.brand {
  display:flex;
  align-items:center;
  gap:12px;
}
.memo-img {
  width:120px;
  height:120px;
  object-fit:contain;
  border-radius:16px;
  box-shadow:0 8px 24px rgba(0,0,0,.18);
}


